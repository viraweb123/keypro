/*!
 * angular-carousel-3d
 * 
 * Version: 0.0.7 - 2016-01-08T05:23:39.581Z
 * License: MIT
 */
/*!
 * angular-carousel-3d
 * 
 * Version: 0.0.7
 * License: MIT
 */
!function(){"use strict";angular.module("angular-carousel-3d",["swipe"])}(),/*!
 * angular-carousel-3d
 *
 * Version: 0.0.7
 * License: MIT
 */
function(){"use strict";function t(t,e,i,n,s,r,o,l){function a(){o.build(S.model,S.options).then(function(t){w=t,S.slides=w.slides,S.sourceProp=w.sourceProp,S.isLoading=!1,S.isSuccessful=!0;var i=w.getOuterHeight(),s=w.getOuterWidth();e.css({height:i+"px"}),n(function(){x=angular.element(e[0].querySelector(".carousel-3d")),x.css({width:s+"px",height:i+"px"}),I=x.children(),d()})},function(t){e.css({height:t.getOuterHeight()+"px"}),S.isLoading=!1,S.isSuccessful=!1},function(t){S.percentLoaded=t.percent})}function d(t,e){w.setSlides();var i=w.getOuterHeight(),n=w.getOuterWidth(),s="auto"===w.topSpace?0:i/2-i/2,r=w.width/2-n/2,o=e?e/1e3:w.animationSpeed/1e3,l=999;if(angular.forEach(w.slides,function(e,r){var l={position:"absolute",opacity:0,visibility:"hidden",overflow:"hidden",top:s+"px","border-width":w.border+"px",width:n,height:i};t&&angular.extend(l,{"-webkit-transition":"all "+o+"s ","-moz-transition":"all "+o+"s ","-o-transition":"all "+o+"s ","-ms-transition":"all "+o+"s ",transition:"all "+o+"s "}),v(r).css(l)}),v(w.currentIndex).addClass("current").css({zIndex:l,opacity:1,visibility:"visible","-webkit-transform":"none","-moz-transform":"none","-o-transform":"none","-ms-transform":"none",transform:"none",left:r+"px",top:s+"px",width:n+"px",height:i+"px"}),angular.forEach(w.rightSlides,function(t,e){var i=c(e,l,!0);l-=e+1,v(t).css(i).css({opacity:1,visibility:"visible",zIndex:l})}),angular.forEach(w.leftSlides,function(t,e){var i=c(e,l);l-=e+1,v(t).css(i).css({opacity:1,visibility:"visible",zIndex:l})}),w.total>w.visible){var a=c(w.rightSlides.length-1,w.rightSlides.length-1,!0),d=c(w.leftSlides.length-1,w.leftSlides.length-1);v(w.rightOutSlide).css(a),v(w.leftOutSlide).css(d)}S.isRendered=!0}function c(t,e,i){var n="auto"==w.space?parseInt((t+1)*(w.width/1.5)):parseInt((t+1)*w.space),s=i?"translateX("+n+"px) translateZ(-"+(w.inverseScaling+100*(t+1))+"px) rotateY(-"+w.perspective+"deg)":"translateX(-"+n+"px) translateZ(-"+(w.inverseScaling+100*(t+1))+"px) rotateY("+w.perspective+"deg)",r="0%",o="auto"===w.topSpace?"none":parseInt((t+1)*w.space),l="none",a="none",d="visible";return{"-webkit-transform":s,"-moz-transform":s,"-o-transform":s,"-ms-transform":s,transform:s,left:r,top:o,width:l,height:a,zIndex:e,overflow:d}}function u(t,e,i){return S.onBeforeChange&&S.onBeforeChange({index:w.currentIndex}),w.setCurrentIndex(0>t||t>w.total-1?0:t),w.isLastSlide()&&angular.isFunction(S.onLastSlide)&&S.onLastSlide({index:w.currentIndex}),angular.forEach(w.leftSlides,function(t,e){angular.element(I[e]).removeClass("current")}),w.setLock(!0),d(!0,w.animationSpeed),n(function(){p()},w.animationSpeed),i}function h(t){return t=t?t:!1,!t&&w.getLock()?!1:(w.isLastSlide()?u(0,!1,t):u(w.currentIndex+1,!1,t),!1)}function g(t){return t=t?t:!1,!t&&w.getLock()?!1:(w.isFirstSlide()?u(w.total-1,!1,t):u(w.currentIndex-1,!1,t),!1)}function f(t){var e=t===w.total-1&&w.isFirstSlide()?-1:t-w.currentIndex;w.isLastSlide()&&0===t&&(e=1);for(var i=0>e?-e:e,s=0,r=0;i>r;r++){var o=1===i?0:s;n(function(){0>e?g(i):h(i)},o),s+=w.animationSpeed/i}}function p(){w.setLock(!1),S.onSlideChange&&S.onSlideChange({index:w.currentIndex})}function v(t){return t>=0?angular.element(I[t]):angular.element(I[w.total+t])}function m(t){w.currentIndex!=t?f(t):S.onSelectedClick&&S.onSelectedClick({index:w.currentIndex})}var S=this;S.isLoading=!0,S.isSuccessful=!1,S.isRendered=!1,S.percentLoaded=0,S.slideClicked=m,S.goPrev=g,S.goNext=h;var x=null,I=[],w={};angular.element(l).off("keyup"),angular.element(l).on("keyup",function(t){39===t.which&&S.goNext(),37===t.which&&S.goPrev()}),t.$watch("[vm.model, vm.options]",a,!0)}angular.module("angular-carousel-3d").controller("Carousel3dController",t),t.$inject=["$scope","$element","$attrs","$timeout","$log","$parse","Carousel3dService","$window"]}(),/*!
 * angular-carousel-3d
 * 
 * Version: 0.0.7
 * License: MIT
 */
function(){"use strict";function t(t){function e(t,e){return i}function i(t,e,i,n,s){}var n={restrict:"AE",template:'<div class="carousel-3d-container" ng-switch="vm.isLoading">   <div class="carousel-3d-loader" ng-switch-when="true">       <div class="carousel-3d-loader-circle" style="-webkit-transform:scale(0.75)"><div><div></div><div></div></div></div>       <div class="carousel-3d-loader-percentage">{{ vm.percentLoaded }}</div>   </div>   <div ng-switch-when="false" ng-switch="vm.isSuccessful">       <div class="carousel-3d" ng-switch-when="true" ng-show="vm.isRendered">           <div ng-repeat="slide in vm.slides track by $index" class="slide-3d" ng-click="vm.slideClicked($index)" ng-swipe-left="vm.goPrev()" ng-swipe-right="vm.goNext()" carousel-3d-slide="{{slide[vm.options.sourceProp]}}" style="width:{{vm.options.width}}px;height:{{vm.options.height}}px" carousel-3d-slide-content="slide.html" ng-if="vm.options.html"></div>           <img ng-repeat="slide in vm.slides track by $index" ng-src="{{slide[vm.options.sourceProp]}}" class="slide-3d-img" ng-click="vm.slideClicked($index)" ng-swipe-left="vm.goPrev()" ng-swipe-right="vm.goNext()" ng-if="!vm.options.html">       </div>       <p ng-switch-when="false" class="carousel-3d-loader-error">There was a problem during load</p>   </div></div>',replace:!0,scope:{model:"=ngModel",options:"=",onSelectedClick:"&",onSlideChange:"&",onLastSlide:"&",onBeforeChange:"&"},controller:"Carousel3dController as vm",bindToController:!0,transclude:!0,compile:e,link:i};return n}function e(t){return{link:function(e,i,n){e.$watch(n.carousel3dSlideContent,function(n){i.html(""),i.html(n),t(i.contents())(e)})}}}angular.module("angular-carousel-3d").directive("carousel3dSlideContent",e).directive("carousel3d",t),t.$inject=["$timeout"]}(),/*!
 * angular-carousel-3d
 *
 * Version: 0.0.7
 * License: MIT
 */
function(){"use strict";function t(t,e,i){function n(t,i){this.slides=t||[],this.leftSlides=[],this.rightSlides=[],this.leftOutSlide="",this.rightOutSlide="",this.loadCount=0,this.errorCount=0,this.states={PENDING:1,LOADING:2,RESOLVED:3,REJECTED:4},this.total=this.slides.length,this.currentIndex=0,this.lock=!1,this.sourceProp=i.sourceProp||"src",this.visible=i.visible||5,this.perspective=i.perspective||35,this.animationSpeed=i.animationSpeed||500,this.dir=i.dir||"ltr",this.width=i.width||360,this.height=i.height||270,this.border=i.border||5,this.space=i.space||"auto",this.topSpace=i.topSpace||"auto",this.startSlide=i.startSlide||0,this.inverseScaling=i.inverseScaling||300,this.html=i.html||!1,this.state=this.states.PENDING,this.deferred=e.defer(),this.promise=this.deferred.promise}function s(){return this.state!==this.states.PENDING}function r(){return this.state===this.states.REJECTED}function o(){return this.state===this.states.RESOLVED}function l(){if(this.isInitiated())return this;this.state=this.states.LOADING;for(var t=0;t<this.total;t++)this.loadImageLocation(this.slides[t]);return this}function a(t){this.errorCount++,this.isRejected()||(this.state=this.states.REJECTED,this.deferred.reject(this))}function d(t){this.loadCount++,this.isRejected()||(this.deferred.notify({percent:Math.ceil(this.loadCount/this.total*100),imageLocation:t}),this.loadCount===this.total&&(this.state=this.states.RESOLVED,this.deferred.resolve(this)))}function c(e){var i=this,n=new Image;i.html&&i.handleImageLoad(i.html),n.onload=function(e){t.$apply(function(){i.handleImageLoad(e.target.src),n=e=null})},n.onerror=function(e){t.$apply(function(){i.handleImageError(e.target.src),n=e=null})},n.src=e[this.sourceProp]}function u(){return this.total}function h(t){this.startSlide=0>t||t>this.total?0:t}function g(t){return this.currentIndex=t}function f(){return parseInt(this.width+this.border)}function p(){return parseInt(this.height+this.border,10)}function v(t){return this.lock=t}function m(){return this.lock}function S(){return this.slides}function x(){var t=Math.floor(this.visible/2)+1,e="ltr";this.leftSlides=[],this.rightSlides=[];for(var i=1;t>i;i++){var n=this.dir===e?(this.currentIndex+i)%this.total:(this.currentIndex-i)%this.total,s=this.dir===e?(this.currentIndex-i)%this.total:(this.currentIndex+i)%this.total;this.leftSlides.push(n),this.rightSlides.push(s)}var r=this.leftOutSlide=this.currentIndex-t,o=this.rightOutSlide=this.total-this.currentIndex-t<=0?-parseInt(this.total-this.currentIndex-t):this.currentIndex+t;return this.dir===e&&(this.leftOutSlide=r,this.rightOutSlide=o),this.slides}function I(){return this.currentIndex===this.total-1}function w(){return 0===this.currentIndex}function b(){return this.sourceProp}n.build=function(t,e){var s=new n(t,e||{});return s.load().promise.then(function(){s.visible=s.visible>s.total?s.total:s.visible,s.currentIndex=s.startSlide>s.total-1?s.total-1:e.startSlide;try{2!==s.visible&&(s.visible=s.visible%2?s.visible:s.visible-1)}catch(t){i.error(t)}return s})};var C={constructor:n,isInitiated:s,isRejected:r,isResolved:o,load:l,handleImageError:a,handleImageLoad:d,loadImageLocation:c,getTotalNumber:u,setStartSlide:h,getSlides:S,setSlides:x,setCurrentIndex:g,getOuterWidth:f,getOuterHeight:p,setLock:v,getLock:m,isLastSlide:I,isFirstSlide:w,getSourceProp:b};return angular.extend(n.prototype,C),n}angular.module("angular-carousel-3d").factory("Carousel3dService",t),t.$inject=["$rootScope","$q","$log"]}();